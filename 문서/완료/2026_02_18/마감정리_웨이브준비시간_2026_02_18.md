# 마감 정리 - 웨이브 준비시간 고도화 (2026-02-18)

## 1) 마감 범위
- 게임 시작 직후 즉시 스폰 문제 완화
- `WaveReady` 기반 상태 전이 도입
- 조기 호출(`Next Wave`) 보상 구조(골드/쿨타임) 개선
- 마지막 웨이브 Victory 지연 체감 완화

## 2) 주요 코드 반영
- `GameFlowState`에 `WaveReady` 추가 및 흐름 개편
  - `Prepare -> WaveReady -> WaveRunning`
  - `WaveBreak -> WaveReady`
- `TryEarlyCallNextWave()`를 `WaveReady` 상태 기준으로 변경
- `WaveManager`에 중복 스폰 방지(`_spawnStartedWaveIndex`) 적용
- 웨이브 정리 즉시 전환 로직 추가
  - `WaveManager`에서 적 전멸 시 `TryCompleteCurrentWave()` 호출
  - 마지막 웨이브 즉시 `Result` 전환
- `GameView` 카운트다운 표기 추가
  - `txtWaveTimer` 미연결 시 `txtStateInfo` 폴백

## 3) 보상/밸런스 반영
- 조기 호출 골드 보상: `WaveReady` 잔여시간 기반
- 조기 호출 쿨타임 감소: 잔여시간 비례 보정
  - 최소 비율 보장 (`EarlyCallCooldownMinRatio = 0.35`)

## 4) 검증 결과 요약
- PASS: 시작 시 몬스터 즉시 출현하지 않음(약 3초 후 스폰)
- PASS: 조기 호출 보상은 시작 직후 호출이 종료 직전 호출보다 큼
- PASS: Pause 중 준비시간 감소 없음
- PASS: 마지막 몬스터 처치 직후 Victory 즉시 표시(지연 완화 패치 재검증)

## 5) 문서 이관
- 이관 완료:
  - `전투_웨이브_준비시간_고도화_작업계획_2026_02_18.md`
  - `작업상세로그_2026_02_18.md`
- 위치: `문서/완료/2026_02_18/`

## 6) 후속 백로그
- 웨이브 시작 배너/SFX 연출 고도화
- (Future) 스폰 지점 몬스터 아이콘 인터랙션
- `txtWaveTimer`를 프리팹에 실제 배치할지 UX 결정 후 반영
